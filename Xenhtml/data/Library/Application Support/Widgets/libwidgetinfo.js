var XENDApi=function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=2)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Weather="weather",e.Media="media",e.Calendar="calendar",e.Reminders="reminders",e.Resources="resources",e.Applications="applications",e.System="system"}(t.DataProviderUpdateNamespace||(t.DataProviderUpdateNamespace={}));t.Base=class{constructor(e){this.connection=e,this.observers=[],this._destructureData(this.defaultData())}defaultData(){return{}}_setData(e){this._destructureData(e),this.observers.forEach(e=>{e(this)})}_destructureData(e){Object.assign(this,e)}_documentLoaded(){}observeData(e){this.observers.push(e)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this._observers={},this._lookupMap={}}notifyObservers(){Object.keys(this._observers).forEach(e=>{const t=this._observers[e];t&&t()})}callFn(e,t){const i=this._lookupMap[e];return i?i(t):void 0}}},function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(i(3)),r=a(i(4)),s=a(i(13)),o=a(i(14)),d=i(0),u=a(i(19)),c=a(i(20)),l=a(i(21)),p=a(i(22)),h=a(i(23)),f=a(i(24)),v=a(i(25)),m=a(i(26));class y extends m.default{constructor(){super(),this.infostats2=new r.default,this.groovyAPI=new s.default,this.xeninfo=new o.default,this.dataProviders=new Map,this.init()}init(){this.dataProviders.set(d.DataProviderUpdateNamespace.Calendar,new u.default(this)),this.dataProviders.set(d.DataProviderUpdateNamespace.Media,new c.default(this)),this.dataProviders.set(d.DataProviderUpdateNamespace.Reminders,new l.default(this)),this.dataProviders.set(d.DataProviderUpdateNamespace.System,new p.default(this)),this.dataProviders.set(d.DataProviderUpdateNamespace.Weather,new h.default(this)),this.dataProviders.set(d.DataProviderUpdateNamespace.Applications,new f.default(this)),this.dataProviders.set(d.DataProviderUpdateNamespace.Resources,new v.default(this)),this.infostats2.initialise(this,this.dataProviders),n.default.configure({prefix:"xui",preloadData:!0,templateDelimiters:["{","}"],formatters:{inject:(e,...t)=>{for(var i=0;i<t.length;i++){var a=e.indexOf("%s");if(-1===a)break;e=e.slice(0,a)+t[i]+e.slice(a+2)}return e},fallback:(e,...t)=>0===e.length||""===e?t[0]:e,time:e=>{try{return e.toLocaleTimeString()}catch(e){return"invalid date"}},date:(e,t)=>{t||(t="short");let i={};"dayname"===t?i={weekday:"long"}:"short"===t?i={year:"numeric",month:"2-digit",day:"2-digit"}:"long"===t&&(i={weekday:"long",year:"numeric",month:"long",day:"numeric"});try{return e.toLocaleDateString(void 0,i)}catch(e){return"invalid date"}}}});const e={calendar:this.dataProviderInNamespace(d.DataProviderUpdateNamespace.Calendar),media:this.dataProviderInNamespace(d.DataProviderUpdateNamespace.Media),reminders:this.dataProviderInNamespace(d.DataProviderUpdateNamespace.Reminders),system:this.dataProviderInNamespace(d.DataProviderUpdateNamespace.System),weather:this.dataProviderInNamespace(d.DataProviderUpdateNamespace.Weather),apps:this.dataProviderInNamespace(d.DataProviderUpdateNamespace.Applications),resources:this.dataProviderInNamespace(d.DataProviderUpdateNamespace.Resources)};window.addEventListener("DOMContentLoaded",t=>{this.dataProviders.forEach((e,t)=>{e._documentLoaded()}),this.bindView=n.default.bind(document.body,e),this.xeninfo.initialise(this,this.dataProviders)})}onDataProviderUpdate(e){this.dataProviders.get(e.namespace)._setData(e.payload),this.bindView&&this.bindView.sync()}onLoad(){this.xeninfo.onFirstUpdate(),this.groovyAPI.initialise(this,this.dataProviders)}dataProviderInNamespace(e){return this.dataProviders.get(e)}}t.default=class{constructor(){this._middleware=new y,this.calendar=this._middleware.dataProviderInNamespace(d.DataProviderUpdateNamespace.Calendar),this.media=this._middleware.dataProviderInNamespace(d.DataProviderUpdateNamespace.Media),this.reminders=this._middleware.dataProviderInNamespace(d.DataProviderUpdateNamespace.Reminders),this.system=this._middleware.dataProviderInNamespace(d.DataProviderUpdateNamespace.System),this.weather=this._middleware.dataProviderInNamespace(d.DataProviderUpdateNamespace.Weather),this.apps=this._middleware.dataProviderInNamespace(d.DataProviderUpdateNamespace.Applications),this.resources=this._middleware.dataProviderInNamespace(d.DataProviderUpdateNamespace.Resources)}}},function(e,t,i){e.exports=function(){"use strict";var e=["prefix","templateDelimiters","rootInterface","preloadData","handler"],t=["binders","formatters","adapters"],i=/^'.*'$|^".*"$/;function a(e){var t=0,a=e;return i.test(e)?a=e.slice(1,-1):"true"===e?a=!0:"false"===e?a=!1:"null"===e?a=null:"undefined"===e?a=void 0:isNaN(e)?t=1:a=Number(e),{type:t,value:a}}function n(e,t){for(var i,a=e.length,n=0,r=0,s=t[0],o=t[1];r<a;){if((n=e.indexOf(s,r))<0){i&&i.push({type:0,value:e.slice(r)});break}if(i||(i=[]),n>0&&r<n&&i.push({type:0,value:e.slice(r,n)}),r=n+s.length,(n=e.indexOf(o,r))<0){var d=e.slice(r-o.length),u=i[i.length-1];u&&0===u.type?u.value+=d:i.push({type:0,value:d});break}var c=e.slice(r,n).trim();i.push({type:1,value:c}),r=n+o.length}return i}var r,s,o,d={binders:{},formatters:{},adapters:{},_prefix:"rv",_fullPrefix:"rv-",get prefix(){return this._prefix},set prefix(e){this._prefix=e,this._fullPrefix=e+"-"},parseTemplate:n,parseType:a,templateDelimiters:["{","}"],rootInterface:".",preloadData:!0,handler:function(e,t,i){this.call(e,t,i.view.models)},fallbackBinder:function(e,t){null!=t?e.setAttribute(this.type,t):e.removeAttribute(this.type)},configure:function(e){var i=this;e&&Object.keys(e).forEach((function(a){var n=e[a];t.indexOf(a)>-1?Object.keys(n).forEach((function(e){i[a][e]=n[e]})):i[a]=n}))}};function u(e){return"object"==typeof e&&null!==e}var c=function(){function e(e,t,i){this.keypath=t,this.callback=i,this.objectPath=[],this.parse(),this.obj=this.getRootObject(e),u(this.target=this.realize())&&this.set(!0,this.key,this.target,this.callback)}e.updateOptions=function(e){r=e.adapters,s=Object.keys(r),o=e.rootInterface},e.tokenize=function(e,t){var i,a,n=[],r={i:t,path:""};for(i=0;i<e.length;i++)a=e.charAt(i),~s.indexOf(a)?(n.push(r),r={i:a,path:""}):r.path+=a;return n.push(r),n};var t=e.prototype;return t.parse=function(){var t,i;s.length||function(e){throw new Error("[Observer] "+e)}("Must define at least one adapter interface."),~s.indexOf(this.keypath[0])?(i=this.keypath[0],t=this.keypath.substr(1)):(i=o,t=this.keypath),this.tokens=e.tokenize(t,i),this.key=this.tokens.pop()},t.realize=function(){for(var e,t,i=this.obj,a=-1,n=0;n<this.tokens.length;n++)t=this.tokens[n],u(i)?(void 0!==this.objectPath[n]?i!==(e=this.objectPath[n])&&(this.set(!1,t,e,this),this.set(!0,t,i,this),this.objectPath[n]=i):(this.set(!0,t,i,this),this.objectPath[n]=i),i=this.get(t,i)):(-1===a&&(a=n),(e=this.objectPath[n])&&this.set(!1,t,e,this));return-1!==a&&this.objectPath.splice(a),i},t.sync=function(){var e,t,i;(e=this.realize())!==this.target?(u(this.target)&&this.set(!1,this.key,this.target,this.callback),u(e)&&this.set(!0,this.key,e,this.callback),t=this.value(),this.target=e,((i=this.value())!==t||i instanceof Function)&&this.callback.sync()):e instanceof Array&&this.callback.sync()},t.value=function(){if(u(this.target))return this.get(this.key,this.target)},t.setValue=function(e){u(this.target)&&r[this.key.i].set(this.target,this.key.path,e)},t.get=function(e,t){return r[e.i].get(t,e.path)},t.set=function(e,t,i,a){var n=e?"observe":"unobserve";r[t.i][n](i,t.path,a)},t.unobserve=function(){for(var e,t,i=0;i<this.tokens.length;i++)t=this.tokens[i],(e=this.objectPath[i])&&this.set(!1,t,e,this);u(this.target)&&this.set(!1,this.key,this.target,this.callback)},t.getRootObject=function(e){var t,i;if(!e.$parent)return e;for(t=this.tokens.length?this.tokens[0].path:this.key.path,i=e;i.$parent&&void 0===i[t];)i=i.$parent;return i},e}(),l=/[^\s']+|'([^']|'[^\s])*'|"([^"]|"[^\s])*"/g,p=/\s+/,h=function(){function e(e,t,i,a,n,r,s){this.view=e,this.el=t,this.type=i,this.keypath=a,this.binder=n,this.arg=r,this.formatters=s,this.formatterObservers={},this.model=void 0}var t=e.prototype;return t.observe=function(e,t){return new c(e,t,this)},t.parseTarget=function(){if(this.keypath){var e=a(this.keypath);0===e.type?this.value=e.value:(this.observer=this.observe(this.view.models,this.keypath),this.model=this.observer.target)}else this.value=void 0},t.parseFormatterArguments=function(e,t){var i=this;return e.map(a).map((function(e,a){var n=e.type,r=e.value;if(0===n)return r;i.formatterObservers[t]||(i.formatterObservers[t]={});var s=i.formatterObservers[t][a];return s||(s=i.observe(i.view.models,r),i.formatterObservers[t][a]=s),s.value()}))},t.formattedValue=function(e){var t=this;return this.formatters.reduce((function(e,i,a){var n=i.match(l),r=n.shift(),s=t.view.options.formatters[r],o=t.parseFormatterArguments(n,a);return s&&s.read instanceof Function?e=s.read.apply(s,[e].concat(o)):s instanceof Function&&(e=s.apply(void 0,[e].concat(o))),e}),e)},t.eventHandler=function(e){var t=this,i=t.view.options.handler;return function(a){i.call(e,this,a,t)}},t.set=function(e){e=e instanceof Function&&!this.binder.function?this.formattedValue(e.call(this.model)):this.formattedValue(e);var t=this.binder.routine||this.binder;t instanceof Function&&t.call(this,this.el,e)},t.sync=function(){this.observer?(this.model=this.observer.target,this.set(this.observer.value())):this.set(this.value)},t.publish=function(){var e=this;if(this.observer){var t=this.formatters.reduceRight((function(t,i,a){var n=i.split(p),r=n.shift(),s=e.view.options.formatters[r],o=e.parseFormatterArguments(n,a);return s&&s.publish&&(t=s.publish.apply(s,[t].concat(o))),t}),this.getValue(this.el));this.observer.setValue(t)}},t.bind=function(){this.parseTarget(),this.binder.hasOwnProperty("bind")&&this.binder.bind.call(this,this.el),this.view.options.preloadData&&this.sync()},t.unbind=function(){var e=this;this.binder.unbind&&this.binder.unbind.call(this,this.el),this.observer&&this.observer.unobserve(),Object.keys(this.formatterObservers).forEach((function(t){var i=e.formatterObservers[t];Object.keys(i).forEach((function(e){i[e].unobserve()}))})),this.formatterObservers={}},t.update=function(e){void 0===e&&(e={}),this.observer&&(this.model=this.observer.target),this.binder.update&&this.binder.update.call(this,e)},t.getValue=function(e){return this.binder&&this.binder.getValue?this.binder.getValue.call(this,e):function(e){if("checkbox"===e.type)return e.checked;if("select-multiple"===e.type){for(var t,i=[],a=0;a<e.options.length;a++)(t=e.options[a]).selected&&i.push(t.value);return i}return e.value}(e)},e}(),f={routine:function(e,t){e.data=null!=t?t:""}},v=/((?:'[^']*')*(?:(?:[^\|']*(?:'[^']*')+[^\|']*)+|[^\|]+))|^$/g,m=function e(t,i){var a=!1;if(3===i.nodeType){var r=n(i.data,d.templateDelimiters);if(r){for(var s=0;s<r.length;s++){var o=r[s],u=document.createTextNode(o.value);i.parentNode.insertBefore(u,i),1===o.type&&t.buildBinding(u,null,o.value,f,null)}i.parentNode.removeChild(i)}a=!0}else 1===i.nodeType&&(a=t.traverse(i));if(!a)for(var c=0;c<i.childNodes.length;c++)e(t,i.childNodes[c])},y=function(e,t){var i=e.binder&&e.binder.priority||0;return(t.binder&&t.binder.priority||0)-i},g=function(e){return e.trim()},b=function(){function e(e,t,i){e.jquery||e instanceof Array?this.els=e:this.els=[e],this.models=t,this.options=i,this.build()}var t=e.prototype;return t.buildBinding=function(e,t,i,a,n){var r=i.match(v).map(g),s=r.shift();this.bindings.push(new h(this,e,t,s,a,n,r))},t.build=function(){this.bindings=[];var e,t,i=this.els;for(e=0,t=i.length;e<t;e++)m(this,i[e]);this.bindings.sort(y)},t.traverse=function(e){for(var t,i,a,n,r=d._fullPrefix,s="SCRIPT"===e.nodeName||"STYLE"===e.nodeName,o=e.attributes,u=[],c=this.options.starBinders,l=0,p=o.length;l<p;l++){var h=o[l];if(0===h.name.indexOf(r)){if(t=h.name.slice(r.length),n=void 0,!(i=this.options.binders[t]))for(var f=0;f<c.length;f++)if(a=c[f],t.slice(0,a.length-1)===a.slice(0,-1)){i=this.options.binders[a],n=t.slice(a.length-1);break}if(i||(i=d.fallbackBinder),i.block)return this.buildBinding(e,t,h.value,i,n),e.removeAttribute(h.name),!0;u.push({attr:h,binder:i,type:t,arg:n})}}for(var v=0;v<u.length;v++){var m=u[v];this.buildBinding(e,m.type,m.attr.value,m.binder,m.arg),e.removeAttribute(m.attr.name)}return s},t.bind=function(){this.bindings.forEach((function(e){e.bind()}))},t.unbind=function(){this.bindings.forEach((function(e){e.unbind()}))},t.sync=function(){this.bindings.forEach((function(e){e.sync()}))},t.publish=function(){this.bindings.forEach((function(e){e.binder&&e.binder.publishes&&e.publish()}))},t.update=function(e){var t=this;void 0===e&&(e={}),Object.keys(e).forEach((function(i){t.models[i]=e[i]})),this.bindings.forEach((function(t){t.update&&t.update(e)}))},e}(),w=["push","pop","shift","unshift","sort","reverse","splice"],k={counter:0,weakmap:{},weakReference:function(e){if(!e.hasOwnProperty("__rv")){var t=this.counter++;Object.defineProperty(e,"__rv",{value:t})}return this.weakmap[e.__rv]||(this.weakmap[e.__rv]={callbacks:{}}),this.weakmap[e.__rv]},cleanupWeakReference:function(e,t){Object.keys(e.callbacks).length||e.pointers&&Object.keys(e.pointers).length||delete this.weakmap[t]},stubFunction:function(e,t){var i=e[t],a=this.weakReference(e),n=this.weakmap;e[t]=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var o=i.apply(e,r);return Object.keys(a.pointers).forEach((function(e){var t=a.pointers[e];n[e]&&n[e].callbacks[t]instanceof Array&&n[e].callbacks[t].forEach((function(e){e.sync()}))})),o}},observeArray:function(e,t,i){var a=this;if(e instanceof Array){var n=this.weakReference(e);n.pointers||(n.pointers={},w.forEach((function(t){a.stubFunction(e,t)}))),n.pointers[t]||(n.pointers[t]=[]),-1===n.pointers[t].indexOf(i)&&n.pointers[t].push(i)}},unobserveArray:function(e,t,i){if(e instanceof Array&&null!=e.__rv){var a=this.weakmap[e.__rv];if(a){var n=a.pointers[t];if(n){var r=n.indexOf(i);r>-1&&n.splice(r,1),n.length||delete a.pointers[t],this.cleanupWeakReference(a,e.__rv)}}}},observe:function(e,t,i){var a,n=this,r=this.weakReference(e).callbacks;if(!r[t]){r[t]=[];var s=Object.getOwnPropertyDescriptor(e,t);s&&(s.get||s.set||!s.configurable)||(a=e[t],Object.defineProperty(e,t,{enumerable:!0,get:function(){return a},set:function(i){if(i!==a){n.unobserveArray(a,e.__rv,t),a=i;var r=n.weakmap[e.__rv];if(r){var s=r.callbacks[t];s&&s.forEach((function(e){e.sync()})),n.observeArray(i,e.__rv,t)}}}}))}-1===r[t].indexOf(i)&&r[t].push(i),this.observeArray(e[t],e.__rv,t)},unobserve:function(e,t,i){var a=this.weakmap[e.__rv];if(a){var n=a.callbacks[t];if(n){var r=n.indexOf(i);r>-1&&(n.splice(r,1),n.length||(delete a.callbacks[t],this.unobserveArray(e[t],e.__rv,t))),this.cleanupWeakReference(a,e.__rv)}}},get:function(e,t){return e[t]},set:function(e,t,i){e[t]=i}},_=function(e){return null!=e?e.toString():void 0};function M(e,t,i){var a=e.el.cloneNode(!0),n=new b(a,t,e.view.options);return n.bind(),e.marker.parentNode.insertBefore(a,i),n}var P={"on-*":{function:!0,priority:1e3,unbind:function(e){this.handler&&e.removeEventListener(this.arg,this.handler)},routine:function(e,t){this.handler&&e.removeEventListener(this.arg,this.handler),this.handler=this.eventHandler(t),e.addEventListener(this.arg,this.handler)}},"each-*":{block:!0,priority:4e3,bind:function(e){this.marker?this.iterated.forEach((function(e){e.bind()})):(this.marker=document.createComment(" tinybind: "+this.type+" "),this.iterated=[],e.parentNode.insertBefore(this.marker,e),e.parentNode.removeChild(e))},unbind:function(e){this.iterated&&this.iterated.forEach((function(e){e.unbind()}))},routine:function(e,t){var i=this,a=this.arg;t=t||[];var n=e.getAttribute("index-property")||"$index";t.forEach((function(e,t){var r={$parent:i.view.models};r[n]=t,r[a]=e;var s=i.iterated[t];if(s)if(s.models[a]!==e){for(var o,d,u=t+1;u<i.iterated.length;u++)if((d=i.iterated[u]).models[a]===e){o=u;break}void 0!==o?(i.iterated.splice(o,1),i.marker.parentNode.insertBefore(d.els[0],s.els[0]),d.models[n]=t):d=M(i,r,s.els[0]),i.iterated.splice(t,0,d)}else s.models[n]=t;else{var c=i.marker;i.iterated.length&&(c=i.iterated[i.iterated.length-1].els[0]),s=M(i,r,c.nextSibling),i.iterated.push(s)}})),this.iterated.length>t.length&&function(e,t){for(var i=0;i<e;i++)t()}(this.iterated.length-t.length,(function(){var e=i.iterated.pop();e.unbind(),i.marker.parentNode.removeChild(e.els[0])})),"OPTION"===e.nodeName&&this.view.bindings.forEach((function(e){e.el===i.marker.parentNode&&"value"===e.type&&e.sync()}))},update:function(e){var t=this,i={};Object.keys(e).forEach((function(a){a!==t.arg&&(i[a]=e[a])})),this.iterated.forEach((function(e){e.update(i)}))}},"class-*":function(e,t){var i=" "+e.className+" ";!t==i.indexOf(" "+this.arg+" ")>-1&&(e.className=t?e.className+" "+this.arg:i.replace(" "+this.arg+" "," ").trim())},text:function(e,t){e.textContent=null!=t?t:""},html:function(e,t){e.innerHTML=null!=t?t:""},show:function(e,t){e.style.display=t?"":"none"},hide:function(e,t){e.style.display=t?"none":""},enabled:function(e,t){e.disabled=!t},disabled:function(e,t){e.disabled=!!t},checked:{publishes:!0,priority:2e3,bind:function(e){var t=this;this.callback||(this.callback=function(){t.publish()}),e.addEventListener("change",this.callback)},unbind:function(e){e.removeEventListener("change",this.callback)},routine:function(e,t){"radio"===e.type?e.checked=_(e.value)===_(t):e.checked=!!t}},value:{publishes:!0,priority:3e3,bind:function(e){if(this.isRadio="INPUT"===e.tagName&&"radio"===e.type,!this.isRadio){this.event=e.getAttribute("event-name")||("SELECT"===e.tagName?"change":"input");var t=this;this.callback||(this.callback=function(){t.publish()}),e.addEventListener(this.event,this.callback)}},unbind:function(e){this.isRadio||e.removeEventListener(this.event,this.callback)},routine:function(e,t){if(this.isRadio)e.setAttribute("value",t);else if("select-multiple"===e.type){if(t instanceof Array)for(var i=0;i<e.length;i++){var a=e[i];a.selected=t.indexOf(a.value)>-1}}else _(t)!==_(e.value)&&(e.value=null!=t?t:"")}},if:{block:!0,priority:4e3,bind:function(e){this.marker?!1===this.bound&&this.nested&&this.nested.bind():(this.marker=document.createComment(" tinybind: "+this.type+" "+this.keypath+" "),this.attached=!1,e.parentNode.insertBefore(this.marker,e),e.parentNode.removeChild(e)),this.bound=!0},unbind:function(){this.nested&&(this.nested.unbind(),this.bound=!1)},routine:function(e,t){!!t!==this.attached&&(t?(this.nested||(this.nested=new b(e,this.view.models,this.view.options),this.nested.bind()),this.marker.parentNode.insertBefore(e,this.marker.nextSibling),this.attached=!0):(e.parentNode.removeChild(e),this.attached=!1))},update:function(e){this.nested&&this.nested.update(e)}}};function D(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function S(e,t,i){return(S=I()?Reflect.construct:function(e,t,i){var a=[null];a.push.apply(a,t);var n=new(Function.bind.apply(e,a));return i&&T(n,i.prototype),n}).apply(null,arguments)}function C(e){var t="function"==typeof Map?new Map:void 0;return(C=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return S(e,arguments,N(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),T(a,e)})(e)}var O=function(e){var t,i;function a(){return e.apply(this,arguments)||this}i=e,(t=a).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var n,r,s,o=a.prototype;return o.connectedCallback=function(){var e=this.constructor.__templateEl.content.cloneNode(!0);for(this.__tinybindView=d.bind(e,this);this.firstChild;)this.removeChild(this.firstChild);this.appendChild(e)},o.disconnectedCallback=function(){this.__tinybindView.unbind()},o.attributeChangedCallback=function(e,t,i){t!==i&&(this[this.constructor.__propAttributeMap[e]]=i)},n=a,s=[{key:"observedAttributes",get:function(){var e=this.template;if(!e)throw new Error("No template declared for "+this.name);this.__templateEl=document.createElement("template"),this.__templateEl.innerHTML=e;var t=this.__propAttributeMap={},i=[],a=this.properties;return a&&Object.keys(a).forEach((function(e){var n=a[e],r="string"==typeof n?n:e;t[r]=e,i.push(r)})),i}}],(r=null)&&D(n.prototype,r),s&&D(n,s),a}(C(HTMLElement));return d.binders=P,d.formatters={watch:function(e){return e},not:function(e){return!e},negate:function(e){return!e}},d.adapters["."]=k,d.Component=O,d.bind=function(i,a,n){var r={};a=a||{},n=n||{},t.forEach((function(e){r[e]=Object.create(null),n[e]&&Object.keys(n[e]).forEach((function(t){r[e][t]=n[e][t]})),Object.keys(d[e]).forEach((function(t){r[e][t]||(r[e][t]=d[e][t])}))})),e.forEach((function(e){var t=n[e];r[e]=null!=t?t:d[e]})),r.starBinders=Object.keys(r.binders).filter((function(e){return e.indexOf("*")>0})),c.updateOptions(r);var s=new b(i,a,r);return s.bind(),s},d}()},function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),r=a(i(5)),s=a(i(6)),o=a(i(7)),d=a(i(8)),u=a(i(9)),c=a(i(10)),l=a(i(11)),p=a(i(12));class h{constructor(e){this.parameterType=e}blockWith(){return e=>e}}t.Type=h;t.default=class{constructor(){this.compatProviders={},this.compatProviders.IS2Weather=new r.default,this.compatProviders.IS2Location=new s.default,this.compatProviders.IS2Calendar=new o.default,this.compatProviders.IS2Media=new d.default,this.compatProviders.IS2Notifications=new u.default,this.compatProviders.IS2Pedometer=new c.default,this.compatProviders.IS2System=new l.default,this.compatProviders.IS2Telephony=new p.default,window.Type=h}initialise(e,t){this.compatProviders.IS2Weather.initialise(t.get(n.DataProviderUpdateNamespace.Weather)),this.compatProviders.IS2Calendar.initialise(t.get(n.DataProviderUpdateNamespace.Calendar)),this.compatProviders.IS2Media.initialise(t.get(n.DataProviderUpdateNamespace.Media)),this.compatProviders.IS2Notifications.initialise(),this.compatProviders.IS2Pedometer.initialise(),this.compatProviders.IS2System.initialise(t.get(n.DataProviderUpdateNamespace.System),t.get(n.DataProviderUpdateNamespace.Resources)),this.compatProviders.IS2Telephony.initialise(),this.compatProviders.IS2Location.initialise(t.get(n.DataProviderUpdateNamespace.Weather))}objc_msgSend(e,t,...i){const a=this.compatProviders[e];return a?a.callFn(t,i):null}}},function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(i(1));class r extends n.default{constructor(){super(),this._lookupMap["registerForWeatherUpdatesWithIdentifier:andCallback:"]=e=>{console.log("Registering IS2 weather observer: "+e[0]),this._observers[e[0]]=e[1]},this._lookupMap["unregisterForUpdatesWithIdentifier:"]=e=>{delete this._observers[e[1]]},this._lookupMap["setWeatherUpdateTimeInterval:forRequester:"]=()=>{},this._lookupMap["removeRequesterForWeatherTimeInterval:"]=()=>{},this._lookupMap.updateWeather=()=>{},this._lookupMap.lastUpdateTime=()=>this.localeTimeString(this.provider.metadata.updateTimestamp),this._lookupMap.isCelsius=()=>"C"===this.provider.units.temperature,this._lookupMap["isWindSpeedMph "]=()=>"mph"===this.provider.units.speed,this._lookupMap.currentLocation=()=>this.provider.metadata.address.city,this._lookupMap.currentTemperature=()=>this.provider.now.temperature.current,this._lookupMap.currentCondition=()=>this.provider.now.condition.code,this._lookupMap.currentConditionAsString=()=>this.provider.now.condition.description,this._lookupMap.naturalLanguageDescription=()=>this.provider.now.condition.narrative,this._lookupMap.highForCurrentDay=()=>this.provider.now.temperature.maximum,this._lookupMap.lowForCurrentDay=()=>this.provider.now.temperature.minimum,this._lookupMap.currentWindSpeed=()=>this.provider.now.wind.speed,this._lookupMap.currentWindDirection=()=>this.provider.now.wind.degrees,this._lookupMap.currentWindChill=()=>this.provider.now.temperature.current,this._lookupMap.currentDewPoint=()=>this.provider.now.temperature.dewpoint,this._lookupMap.currentHumidity=()=>this.provider.now.temperature.relativeHumidity,this._lookupMap.currentVisibilityPercent=()=>this.provider.now.visibility,this._lookupMap.currentChanceOfRain=()=>this.provider.now.precipitation.hourly,this._lookupMap.currentlyFeelsLike=()=>this.provider.now.temperature.feelsLike,this._lookupMap.currentPressure=()=>this.provider.now.pressure.current,this._lookupMap.sunsetTime=()=>this.localeTimeString(this.provider.now.sun.sunset),this._lookupMap.sunriseTime=()=>this.localeTimeString(this.provider.now.sun.sunrise),this._lookupMap.currentLatitude=()=>this.provider.metadata.location.latitude,this._lookupMap.currentLongitude=()=>this.provider.metadata.location.longitude,this._lookupMap.hourlyForecastsForCurrentLocation=()=>JSON.stringify(this.hourlyForecasts()),this._lookupMap.hourlyForecastsForCurrentLocationJSON=()=>JSON.stringify(this.hourlyForecasts()),this._lookupMap.dayForecastsForCurrentLocation=()=>JSON.stringify(this.dailyForecasts()),this._lookupMap.dayForecastsForCurrentLocationJSON=()=>JSON.stringify(this.dailyForecasts())}initialise(e){this.provider=e,this.provider.observeData(e=>{this.notifyObservers()}),this.notifyObservers()}localeTimeString(e){return e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}hourlyForecasts(){let e=[];for(let t=0;t<this.provider.hourly.length;t++){const i=this.provider.hourly[t];e.push({time:this.localeTimeString(i.timestamp),condition:i.condition.code,temperature:i.temperature.forecast,percentPrecipitation:i.precipitation.probability})}return e}dailyForecasts(){let e=[];for(let t=0;t<this.provider.daily.length;t++){const i=this.provider.daily[t];e.push({low:i.temperature.minimum,high:i.temperature.maximum,dayNumber:t,dayOfWeek:i.weekdayNumber,condition:i.condition.code})}return e}}t.default=r},function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(i(1));class r extends n.default{constructor(){super(),this._lookupMap["registerForLocationNotificationsWithIdentifier:andCallback:"]=e=>{this._observers[e[0]]=e[1]},this._lookupMap["unregisterForUpdatesWithIdentifier:"]=e=>{delete this._observers[e[1]]},this._lookupMap.requestUpdateToLocationData=()=>{},this._lookupMap["setLocationUpdateDistanceInterval:forRequester:"]=e=>{},this._lookupMap["removeRequesterForLocationDistanceInterval:"]=e=>{},this._lookupMap["setLocationUpdateAccuracy:forRequester:"]=e=>{},this._lookupMap["removeRequesterForLocationAccuracy:"]=e=>{},this._lookupMap.isLocationServicesEnabled=()=>!0,this._lookupMap.currentLatitude=()=>this.provider.metadata.location.latitude,this._lookupMap.currentLongitude=()=>this.provider.metadata.location.longitude,this._lookupMap.cityForCurrentLocation=()=>this.provider.metadata.address.city,this._lookupMap.neighbourhoodForCurrentLocation=()=>this.provider.metadata.address.neighbourhood,this._lookupMap.stateForCurrentLocation=()=>this.provider.metadata.address.state,this._lookupMap.countyForCurrentLocation=()=>this.provider.metadata.address.county,this._lookupMap.countryForCurrentLocation=()=>this.provider.metadata.address.country,this._lookupMap.ISOCountryCodeForCurrentLocation=()=>this.provider.metadata.address.countryISOCode,this._lookupMap.postCodeForCurrentLocation=()=>this.provider.metadata.address.postalCode,this._lookupMap.streetForCurrentLocation=()=>this.provider.metadata.address.street,this._lookupMap.houseNumberForCurrentLocation=()=>this.provider.metadata.address.house}initialise(e){this.provider=e,this.provider.observeData(e=>{this.notifyObservers()}),this.notifyObservers()}}t.default=r},function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(i(1));class r extends n.default{constructor(){super(),this._lookupMap["registerForCalendarNotificationsWithIdentifier:andCallback:"]=e=>{this._observers[e[0]]=e[1]},this._lookupMap["unregisterForUpdatesWithIdentifier:"]=e=>{delete this._observers[e[1]]},this._lookupMap["addCalendarEntryWithTitle:location:startTimeAsTimestamp:andEndTimeAsTimestamp:isAllDayEvent:"]=e=>{},this._lookupMap["addCalendarEntryWithTitle:location:startTime:andEndTime:isAllDayEvent:"]=e=>{},this._lookupMap["addCalendarEntryWithTitle:andLocation:"]=e=>{},this._lookupMap["calendarEntriesJSONBetweenStartTimeAsTimestamp:andEndTimeAsTimestamp:"]=e=>"[]",this._lookupMap["calendarEntriesBetweenStartTime:andEndTime:"]=e=>"[]"}initialise(e){this.provider=e,this.provider.observeData(e=>{this.notifyObservers()})}}t.default=r},function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(i(1));class r extends n.default{constructor(){super(),this._lookupMap["registerForNowPlayingNotificationsWithIdentifier:andCallback:"]=e=>{this._observers[e[0]]=e[1]},this._lookupMap["unregisterForUpdatesWithIdentifier:"]=e=>{delete this._observers[e[1]]},this._lookupMap["registerForTimeInformationWithIdentifier:andCallback:"]=e=>{},this._lookupMap["unregisterForTimeInformationWithIdentifier:"]=e=>{},this._lookupMap.skipToNextTrack=()=>{this.provider.nextTrack()},this._lookupMap.skipToPreviousTrack=()=>{this.provider.previousTrack()},this._lookupMap.togglePlayPause=()=>{this.provider.togglePlayPause()},this._lookupMap.play=()=>{this.provider.togglePlayPause()},this._lookupMap.pause=()=>{this.provider.togglePlayPause()},this._lookupMap["setVolume:withVolumeHUD: "]=e=>{this.provider.setVolume(100*e[0])},this._lookupMap.currentTrackTitle=()=>this.provider.nowPlaying.title,this._lookupMap.currentTrackArtist=()=>this.provider.nowPlaying.artist,this._lookupMap.currentTrackAlbum=()=>this.provider.nowPlaying.album,this._lookupMap.currentTrackArtwork=()=>this.provider.nowPlaying.artwork,this._lookupMap.currentTrackArtworkBase64=()=>this.provider.nowPlaying.artwork,this._lookupMap.currentTrackLength=()=>this.provider.nowPlaying.length,this._lookupMap.elapsedTrackLength=()=>this.provider.nowPlaying.elapsed,this._lookupMap.trackNumber=()=>this.provider.nowPlaying.number,this._lookupMap.totalTrackCount=()=>0,this._lookupMap.currentPlayingAppIdentifier=()=>this.provider.nowPlayingApplication.identifier,this._lookupMap.shuffleEnabled=()=>this.provider.isShuffleEnabled,this._lookupMap.iTunesRadioPlaying=()=>!1,this._lookupMap.isPlaying=()=>this.provider.isPlaying,this._lookupMap.hasMedia=()=>!this.provider.isStopped,this._lookupMap["getVolume "]=()=>this.provider.volume/100}initialise(e){this.provider=e,this.provider.observeData(e=>{this.notifyObservers()}),this.notifyObservers()}}t.default=r},function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(i(1));class r extends n.default{constructor(){super(),this._lookupMap["registerForBulletinNotificationsWithIdentifier:andCallback:"]=e=>{this._observers[e[0]]=e[1]},this._lookupMap["unregisterForUpdatesWithIdentifier:"]=e=>{delete this._observers[e[1]]},this._lookupMap["notificationCountForApplication:"]=e=>0,this._lookupMap["lockscreenNotificationCountForApplication:"]=e=>0,this._lookupMap.lockScreenIsShowingBulletins=()=>!1,this._lookupMap["totalNotificationCountOnLockScreenOnly:"]=e=>0,this._lookupMap["notificationsForApplication:"]=e=>"[]",this._lookupMap["notificationsJSONForApplication:"]=e=>"[]"}initialise(){}}t.default=r},function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(i(1));class r extends n.default{constructor(){super(),this._lookupMap["registerForPedometerNotificationsWithIdentifier:andCallback:"]=e=>{this._observers[e[0]]=e[1]},this._lookupMap["unregisterForUpdatesWithIdentifier:"]=e=>{delete this._observers[e[1]]},this._lookupMap.numberOfSteps=()=>0,this._lookupMap.distanceTravelled=()=>0,this._lookupMap.userCurrentPace=()=>0,this._lookupMap.userCurrentCadence=()=>0,this._lookupMap.floorsAscended=()=>0,this._lookupMap["floorsDescended "]=()=>0}initialise(){}}t.default=r},function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(i(1));class r extends n.default{constructor(){super(),this._lookupMap.batteryPercent=()=>this.resourcesProvider.battery.percentage,this._lookupMap.batteryState=()=>{switch(this.resourcesProvider.battery.state){case 0:return"Unplugged";case 1:return"Charging";case 2:return"Fully Charged";default:return""}},this._lookupMap.batteryStateAsInteger=()=>this.resourcesProvider.battery.state+1,this._lookupMap.ramFree=()=>this.resourcesProvider.memory.free,this._lookupMap.ramUsed=()=>this.resourcesProvider.memory.used,this._lookupMap.ramAvailable=()=>this.resourcesProvider.memory.available,this._lookupMap.cpuUsage=()=>this.resourcesProvider.processor.load,this._lookupMap["freeDiskSpaceInFormat:"]=e=>0,this._lookupMap["totalDiskSpaceInFormat:"]=e=>0,this._lookupMap.networkSpeedUp=()=>0,this._lookupMap.networkSpeedDown=()=>0,this._lookupMap.networkSpeedUpAutoConverted=()=>0,this._lookupMap.networkSpeedDownAutoConverted=()=>0,this._lookupMap.deviceName=()=>this.systemProvider.deviceName,this._lookupMap.deviceType=()=>this.systemProvider.deviceType,this._lookupMap.deviceModel=()=>this.systemProvider.deviceModel,this._lookupMap.deviceModelHumanReadable=()=>this.systemProvider.deviceModelPromotional,this._lookupMap.deviceDisplayHeight=()=>this.systemProvider.deviceDisplayHeight,this._lookupMap.deviceDisplayWidth=()=>this.systemProvider.deviceDisplayWidth,this._lookupMap.isDeviceIn24Time=()=>this.systemProvider.isTwentyFourHourTimeEnabled,this._lookupMap.isLockscreenPasscodeVisible=()=>!1,this._lookupMap.takeScreenshot=()=>{this.systemProvider.invokeScreenshot()},this._lookupMap.lockDevice=()=>{this.systemProvider.lockDevice()},this._lookupMap.openSwitcher=()=>{this.systemProvider.openApplicationSwitcher()},this._lookupMap["openApplication:"]=e=>{},this._lookupMap.openSiri=()=>{this.systemProvider.openSiri()},this._lookupMap.respring=()=>{this.systemProvider.respringDevice()},this._lookupMap.reboot=()=>{},this._lookupMap.vibrateDevice=()=>{this.systemProvider.vibrateDevice()},this._lookupMap["vibrateDeviceForTimeLength:"]=()=>{this.systemProvider.vibrateDevice()},this._lookupMap.getBrightness=()=>1,this._lookupMap["setBrightness:"]=e=>{},this._lookupMap.getLowPowerMode=()=>!1,this._lookupMap["setLowPowerMode:"]=e=>{};const e="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";this._lookupMap["getApplicationIconForBundleIdentifier:"]=t=>e,this._lookupMap["getApplicationIconForBundleIdentifierBase64:"]=t=>e}initialise(e,t){this.systemProvider=e,this.resourcesProvider=t}}t.default=r},function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(i(1));class r extends n.default{constructor(){super(),this._lookupMap.phoneSignalBars=()=>0,this._lookupMap.phoneSignalRSSI=()=>0,this._lookupMap.phoneCarrier=()=>"",this._lookupMap.wifiEnabled=()=>!0,this._lookupMap.wifiSignalBars=()=>0,this._lookupMap.wifiName=()=>"",this._lookupMap.airplaneModeEnabled=()=>!1,this._lookupMap.dataConnectionAvailableViaWiFi=()=>!0,this._lookupMap["dataConnectionAvailable "]=()=>!0}initialise(){}}t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{initialise(e,t){window.groovyAPI=this}do(e,t){}}},function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(i(15)),r=a(i(16)),s=a(i(17)),o=a(i(18));t.default=class{constructor(){this.compat=[]}initialise(e,t){this.requiresXenInfoCompat()&&(this.providers=t,this.compat.push(new n.default(this.providers,this.notifyXenInfoDataChanged)),this.compat.push(new r.default(this.providers,this.notifyXenInfoDataChanged)),this.compat.push(new s.default(this.providers,this.notifyXenInfoDataChanged)),this.compat.push(new o.default(this.providers,this.notifyXenInfoDataChanged)))}onFirstUpdate(){this.compat.forEach(e=>{try{e.onFirstUpdate()}catch(e){window.onerror(e)}})}requiresXenInfoCompat(){return void 0!==window.mainUpdate}notifyXenInfoDataChanged(e){if(void 0!==window.mainUpdate)try{window.mainUpdate(e)}catch(e){window.onerror(e)}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(0);t.default=class{constructor(e,t){this.providers=e,this.notifyXenInfoDataChanged=t,this.last24hrTime=!1,this.onWeatherDataChanged(e.get(a.DataProviderUpdateNamespace.Weather)),e.get(a.DataProviderUpdateNamespace.Weather).observeData(e=>{this.onWeatherDataChanged(e),this.notifyXenInfoDataChanged("weather")}),this.last24hrTime=e.get(a.DataProviderUpdateNamespace.System).isTwentyFourHourTimeEnabled,e.get(a.DataProviderUpdateNamespace.System).observeData(t=>{t.isTwentyFourHourTimeEnabled!==this.last24hrTime&&(this.onWeatherDataChanged(e.get(a.DataProviderUpdateNamespace.Weather)),this.notifyXenInfoDataChanged("weather")),this.last24hrTime=t.isTwentyFourHourTimeEnabled})}onFirstUpdate(){this.notifyXenInfoDataChanged("weather")}onWeatherDataChanged(e){let t={dayForecasts:[],hourlyForecasts:[],city:e.metadata.address.city,address:{street:e.metadata.address.house+" "+e.metadata.address.street,neighbourhood:e.metadata.address.neighbourhood,city:e.metadata.address.city,postalCode:e.metadata.address.postalCode,county:e.metadata.address.county,state:e.metadata.address.state,country:e.metadata.address.country,countryISOCode:e.metadata.address.countryISOCode},temperature:e.now.temperature.current,low:e.now.temperature.minimum,high:e.now.temperature.maximum,feelsLike:e.now.temperature.feelsLike,chanceofrain:Math.round(e.now.precipitation.total),condition:e.now.condition.description,naturalCondition:e.now.condition.narrative,latlong:e.metadata.location.latitude+","+e.metadata.location.longitude,celsius:e.units.temperature,isDay:e.now.sun.isDay?1:0,conditionCode:e.now.condition.code,updateTimeString:this.weatherUpdateTimeString(e.metadata.updateTimestamp),humidity:e.now.temperature.relativeHumidity,dewPoint:this.forceMetricTemperature(e.now.temperature.dewpoint,"C"===e.units.temperature),windChill:e.now.temperature.feelsLike,windDirection:e.now.wind.degrees,windSpeed:this.forceMetricSpeed(e.now.wind.speed,"km/h"===e.units.speed),visibility:this.forceMetricDistance(e.now.visibility,"km"===e.units.distance),sunsetTime:this.militaryIshTime(e.now.sun.sunset),sunriseTime:this.militaryIshTime(e.now.sun.sunrise),sunsetTimeFormatted:this.localeTimeString(e.now.sun.sunset),sunriseTimeFormatted:this.localeTimeString(e.now.sun.sunrise),precipitationForecast:Math.round(e.hourly.length>0?e.hourly[0].precipitation.probability:0),pressure:this.forceMetricPressure(e.now.pressure.current,"hPa"===e.units.pressure),precipitation24hr:e.now.precipitation.total,heatIndex:e.now.temperature.heatIndex,moonPhase:e.now.moon.phaseDay,cityState:e.metadata.address.city},i=[];for(let t=0;t<e.hourly.length;t++){const a=e.hourly[t];i.push({time:this.localeTimeString(a.timestamp),conditionCode:a.condition.code,temperature:a.temperature.forecast,percentPrecipitation:Math.round(a.precipitation.probability),hourIndex:a.hourIndex})}let a=[];for(let t=0;t<e.daily.length;t++){const i=e.daily[t];a.push({low:i.temperature.minimum,high:i.temperature.maximum,dayNumber:t,dayOfWeek:i.weekdayNumber+1,icon:i.condition.code})}t.dayForecasts=a,t.hourlyForecasts=i,window.weather=t}weatherUpdateTimeString(e){const t=this.providers.get(a.DataProviderUpdateNamespace.System).isTwentyFourHourTimeEnabled,i=e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes();let n=e.getHours();return!t&&n>12&&(n-=12),e.getMonth()+"/"+e.getDay()+"/"+e.getFullYear().toString().substr(-2)+", "+n+":"+i+(t?"":e.getHours()>=12?" PM":" AM")}localeTimeString(e){const t=e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes();let i=e.getHours();return(i>=10?i:"0"+i)+":"+t}militaryIshTime(e){const t=e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes();return""+e.getHours()+t}forceMetricTemperature(e,t){return t?e:Math.round(5/9*(e-32))}forceMetricDistance(e,t){return t?e:Math.round(1.609344*e)}forceMetricSpeed(e,t){return t?e:Math.round(1.609344*e)}forceMetricPressure(e,t){return t?e:Math.round(e/.02953)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(0);t.default=class{constructor(e,t){this.providers=e,this.notifyXenInfoDataChanged=t,this.onDataChanged(e.get(a.DataProviderUpdateNamespace.Resources)),e.get(a.DataProviderUpdateNamespace.Resources).observeData(e=>{this.onDataChanged(e),this.notifyXenInfoDataChanged("battery")})}onFirstUpdate(){this.notifyXenInfoDataChanged("battery")}onDataChanged(e){window.batteryPercent=e.battery.percentage,window.batteryCharging=0!==e.battery.state?1:0,window.ramFree=e.memory.free,window.ramUsed=e.memory.used,window.ramAvailable=e.memory.free+e.memory.used,window.ramPhysical=e.memory.available}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(0);t.default=class{constructor(e,t){this.providers=e,this.notifyXenInfoDataChanged=t,this.onDataChanged(e.get(a.DataProviderUpdateNamespace.System)),e.get(a.DataProviderUpdateNamespace.System).observeData(e=>{this.onDataChanged(e),this.notifyXenInfoDataChanged("system")})}onFirstUpdate(){this.notifyXenInfoDataChanged("system")}onDataChanged(e){window.deviceName=e.deviceName,window.deviceType=e.deviceModelPromotional,window.systemVersion=e.systemVersion,window.twentyfourhour=e.isTwentyFourHourTimeEnabled?1:0,window.ipAddress="",window.notificationShowing=0}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(0);t.default=class{constructor(e,t){this.notifyXenInfoDataChanged=t,this.onDataChanged(e.get(a.DataProviderUpdateNamespace.Media)),e.get(a.DataProviderUpdateNamespace.Media).observeData(e=>{this.onDataChanged(e),this.notifyXenInfoDataChanged("music")})}onFirstUpdate(){this.notifyXenInfoDataChanged("music")}onDataChanged(e){window.artist=e.nowPlaying.artist.length>0?e.nowPlaying.artist:"(null)",window.album=e.nowPlaying.album.length>0?e.nowPlaying.album:"(null)",window.title=e.nowPlaying.title.length>0?e.nowPlaying.title:"(null)",window.isplaying=e.isPlaying?1:0,window.musicBundle=e.nowPlayingApplication.identifier,window.currentDuration=this.secondsToFormatted(e.nowPlaying.length),window.currentElapsedTime=this.secondsToFormatted(e.nowPlaying.elapsed),window.shuffleEnabled="disabled",window.repeatEnabled="disabled"}secondsToFormatted(e){if(0===e)return"0:00";if(e<0)return"0:00";e=Math.abs(e);const t=Math.floor(e/60),i=Math.floor(e-60*t);return t+":"+(i<10?"0":"")+i}}},function(e,t,i){"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,r){function s(e){try{d(a.next(e))}catch(e){r(e)}}function o(e){try{d(a.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}d((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(0);class r extends n.Base{observeData(e){super.observeData(e)}fetchEntries(e,t,i){return a(this,void 0,void 0,(function*(){return new Promise((e,t)=>{e([])})}))}}t.default=r},function(e,t,i){"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,r){function s(e){try{d(a.next(e))}catch(e){r(e)}}function o(e){try{d(a.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}d((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(0);class r extends n.Base{constructor(){super(...arguments),this.volumeSetDebouncer=null,this.seekDebouncer=null,this.elapsedTimeObservers=[],this.elapsedInterval=null,this.elapsedTimeSeed=0,this.dropNextInterval=!1}observeData(e){super.observeData(e)}observeElapsedTime(e){this.elapsedTimeObservers.push(e)}togglePlayPause(){this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.Media,functionDefinition:"togglePlayPause",data:{}},()=>{})}nextTrack(){this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.Media,functionDefinition:"nextTrack",data:{}},()=>{})}previousTrack(){this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.Media,functionDefinition:"previousTrack",data:{}},()=>{})}toggleShuffle(){this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.Media,functionDefinition:"toggleShuffle",data:{}},()=>{})}toggleRepeat(){this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.Media,functionDefinition:"toggleRepeat",data:{}},()=>{})}goBackFifteenSeconds(){!1!==this.supportedActions.goBackFifteenSeconds&&this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.Media,functionDefinition:"goBackFifteenSeconds",data:{}},()=>{})}skipFifteenSeconds(){!1!==this.supportedActions.skipFifteenSeconds&&this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.Media,functionDefinition:"skipFifteenSeconds",data:{}},()=>{})}setVolume(e){this.volumeSetDebouncer&&(clearTimeout(this.volumeSetDebouncer),this.volumeSetDebouncer=null),this.volumeSetDebouncer=setTimeout(()=>{this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.Media,functionDefinition:"setVolume",data:{value:e}},()=>{})},50)}seekToPosition(e){!1!==this.supportedActions.skip&&(this.seekDebouncer&&(clearTimeout(this.seekDebouncer),this.seekDebouncer=null),this.seekDebouncer=setTimeout(()=>{this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.Media,functionDefinition:"seekToPosition",data:{value:e}},()=>{})},50),this.dropNextInterval=!0,this.stopElapsedInterval(),this.nowPlaying.elapsed=e)}getUserLibrary(){return a(this,void 0,void 0,(function*(){return new Promise((e,t)=>{this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.Media,functionDefinition:"userLibrary",data:{}},t=>{e(t)})})}))}getAlbumsForArtist(e){return a(this,void 0,void 0,(function*(){const t="string"==typeof e?e:e.id;return new Promise((e,i)=>{this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.Media,functionDefinition:"getAlbumsForArtist",data:{id:t}},t=>{e(t)})})}))}getTracksForAlbum(e){return a(this,void 0,void 0,(function*(){const t="string"==typeof e?e:e.id;return new Promise((e,i)=>{this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.Media,functionDefinition:"getTracksForAlbum",data:{id:t}},t=>{e(t)})})}))}clearElapsedInterval(){this.elapsedInterval&&clearInterval(this.elapsedInterval)}restartElapsedInterval(){this.clearElapsedInterval(),this.nowPlaying.length<=0||(this.dropNextInterval=!1,this.elapsedTimeSeed=this.nowPlaying.elapsed,this.elapsedInterval=setInterval(()=>{const e=Date.now()-this._elapsedChangedTime;let t=Math.ceil(this.elapsedTimeSeed+e/1e3);t>this.nowPlaying.length&&(t=this.nowPlaying.length),t===this.nowPlaying.elapsed||this.dropNextInterval||(this.nowPlaying.elapsed=t,this.elapsedTimeObservers.forEach(e=>{e(this.nowPlaying.elapsed)}))},100))}stopElapsedInterval(){this.clearElapsedInterval()}_setData(e){let t=!0;e._elapsedChangedTime===this._elapsedChangedTime&&(t=!1,e.nowPlaying.elapsed=this.nowPlaying.elapsed),super._setData(e),!e.isPlaying||e.isStopped?this.stopElapsedInterval():t&&this.restartElapsedInterval()}defaultData(){return{_elapsedChangedTime:0,nowPlaying:{id:"",title:"",artist:"",album:"",artwork:"",composer:"",genre:"",length:0,elapsed:0,number:0},queue:[],isPlaying:!1,isStopped:!0,isShuffleEnabled:!1,volume:0,nowPlayingApplication:{name:"",identifier:"",icon:"",badge:"",isInstalling:!1,isSystemApplication:!1},supportedActions:{skip:!0,skipFifteenSeconds:!1,goBackFifteenSeconds:!1}}}}t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(0);class n extends a.Base{observeData(e){super.observeData(e)}}t.default=n},function(e,t,i){"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,r){function s(e){try{d(a.next(e))}catch(e){r(e)}}function o(e){try{d(a.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}d((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(0);class r extends n.Base{constructor(e){super(e),this.connection=e,this.timeObservers=[],this.language=navigator.language,this.documentSplitByNewline=null;window.console=(e=>({log:t=>{e.log(t),this.log(t)},info:t=>{e.info(t),this.log("INFO: "+t)},warn:t=>{e.warn(t),this.log("WARN: "+t)},error:t=>{e.error(t),this.log("ERROR: "+t)}}))(window.console),window.onerror=(e,t,i,a,n)=>{n&&n.stack?(e+="\nCall Stack: \n",n.stack.split("\n").forEach(t=>{if(""===(t=t.trim()))return void(e+="<unknown>@[native code]\n");if(null===this.documentSplitByNewline){const i=t.split("@")[0];return void(e+=i+"@[unknown]\n")}const i=t.split("/:");if(i.length>1){const e=i[0].split("@")[0],a=i[1].split(":");if(a.length>0){const i=parseInt(a[0]),n={line:-1,script:""};let r=0;for(let e=i;e>=0;e--){const t=this.documentSplitByNewline[e];if(t&&t.trim().startsWith("//# source="))if(-1===n.line){n.line=e;let i=/\/\/# source=([\w/.]+)/g.exec(t.trim());if(null!==i){let e=i[1];".html"===e&&(e="[document]"),n.script=e}else n.script="[unknown]"}else r++}n.line+=r,-1===n.line&&(n.line=0,n.script="[unknown]"),t=e+"@"+n.script+":"+(i-n.line+1)+":"+a[1]}}e+=t+"\n"}),console.error(e)):console.error(e)};const t=Date.prototype.toLocaleTimeString,i=this;Date.prototype.toLocaleTimeString=function(e,a){return a?"no12HourHook"in a||(a=Object.assign({hour12:!i.isTwentyFourHourTimeEnabled},a)):a={hour12:!i.isTwentyFourHourTimeEnabled},t.apply(this,[e,a])}}observeData(e){super.observeData(e)}_documentLoaded(){this.documentSplitByNewline=document.documentElement.innerHTML.split(/\r?\n/)}defaultData(){return{deviceName:"",deviceType:"",deviceModel:"",deviceModelPromotional:"",systemVersion:"",deviceDisplayHeight:0,deviceDisplayWidth:0,deviceDisplayBrightness:0,isTwentyFourHourTimeEnabled:!1,isLowPowerModeEnabled:!1,isNetworkConnected:!1}}invokeScreenshot(){return a(this,void 0,void 0,(function*(){return new Promise((e,t)=>{this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.System,functionDefinition:"invokeScreenshot",data:{}},()=>{e()})})}))}lockDevice(){return a(this,void 0,void 0,(function*(){return new Promise((e,t)=>{this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.System,functionDefinition:"lockDevice",data:{}},()=>{e()})})}))}openApplicationSwitcher(){return a(this,void 0,void 0,(function*(){return new Promise((e,t)=>{this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.System,functionDefinition:"openApplicationSwitcher",data:{}},()=>{e()})})}))}openSiri(){return a(this,void 0,void 0,(function*(){return new Promise((e,t)=>{this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.System,functionDefinition:"openSiri",data:{}},()=>{e()})})}))}respringDevice(){return a(this,void 0,void 0,(function*(){return new Promise((e,t)=>{this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.System,functionDefinition:"respringDevice",data:{}},()=>{e()})})}))}vibrateDevice(e=.25){return a(this,void 0,void 0,(function*(){return new Promise((t,i)=>{this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.System,functionDefinition:"vibrateDevice",data:{duration:e}},()=>{t()})})}))}log(e){return a(this,void 0,void 0,(function*(){return new Promise((t,i)=>{this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.System,functionDefinition:"log",data:{message:e,path:window.location.pathname}},()=>{t()})})}))}}t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(0);class n extends a.Base{observeData(e){super.observeData(e)}_setData(e){if(void 0===e.now)return;let t=Object.assign({},e);const i=this.timezoneOffset(e.now.sun.sunset),a=-1*(new Date).getTimezoneOffset(),n=Math.floor(a/60),r=a-60*Math.floor(a/60);i.hour=i.hour-n,i.minute=i.minute-r,t.now.moon.moonrise=this.datestringToInstance(e.now.moon.moonrise),t.now.moon.moonset=this.datestringToInstance(e.now.moon.moonset),t.now.sun.sunrise=this.datestringToInstance(e.now.sun.sunrise),t.now.sun.sunset=this.datestringToInstance(e.now.sun.sunset);for(let a=0;a<e.hourly.length;a++){let n=new Date(e.hourly[a].timestamp);n.setHours(n.getHours()+i.hour,n.getMinutes()+i.minute),t.hourly[a].timestamp=n}for(let a=0;a<e.daily.length;a++){let n=new Date(e.daily[a].timestamp);n.setHours(n.getHours()+i.hour,n.getMinutes()+i.minute),t.daily[a].timestamp=n,t.daily[a].moon.moonrise=this.datestringToInstance(e.daily[a].moon.moonrise),t.daily[a].moon.moonset=this.datestringToInstance(e.daily[a].moon.moonset),t.daily[a].sun.sunrise=this.datestringToInstance(e.daily[a].sun.sunrise),t.daily[a].sun.sunset=this.datestringToInstance(e.daily[a].sun.sunset)}for(let i=0;i<e.nightly.length;i++)t.nightly[i].moon.moonrise=this.datestringToInstance(e.nightly[i].moon.moonrise),t.nightly[i].moon.moonset=this.datestringToInstance(e.nightly[i].moon.moonset);t.metadata.updateTimestamp=new Date(t.metadata.updateTimestamp),super._setData(t)}timezoneOffset(e){if(null===e)return{hour:0,minute:0};if(e.endsWith("Z"))return{hour:0,minute:0};const t=e.split("T");if(2!==t.length)return{hour:0,minute:0};try{const e=t[1].substring(8),i={negative:"-"===e.charAt(0),hour:parseInt(e.substring(1,3)),minutes:parseInt(e.substring(3))};return{hour:i.negative?0-i.hour:i.hour,minute:i.negative?0-i.minutes:i.minutes}}catch(e){return console.error(e),{hour:0,minute:0}}}datestringToInstance(e){if(null==e)return new Date(0);const t=e.split("T");if(2!==t.length)return new Date(0);try{const e=t[0],i=t[1].substring(0,8),a={year:parseInt(e.substring(0,4)),month:parseInt(e.substring(5,7)),day:parseInt(e.substring(8,10)),hour:parseInt(i.substring(0,2)),minutes:parseInt(i.substring(3,5)),seconds:parseInt(i.substring(6,8))};let n=new Date;return n.setFullYear(a.year,a.month-1,a.day),n.setHours(a.hour,a.minutes,a.seconds),n}catch(e){return console.error(e),new Date(0)}}defaultData(){return{now:{isValid:!1,condition:{description:"No data available",narrative:"No data available",code:44},temperature:{minimum:0,maximum:0,minimumLast24Hours:0,maximumLast24Hours:0,current:0,relativeHumidity:0,feelsLike:0,heatIndex:0,dewpoint:0},ultraviolet:{index:0,description:""},cloudCoverPercentage:0,sun:{sunrise:new Date(0),sunset:new Date(0),isDay:!1},airQuality:{scale:"",categoryLevel:"",index:0,comment:"",source:"",categoryIndex:0,pollutants:[]},precipitation:{total:0,hourly:0,type:""},wind:{degrees:0,cardinal:"",gust:0,speed:0},visibility:0,moon:{phaseCode:"",phaseDay:0,phaseDescription:"",moonrise:new Date(0),moonset:new Date(0)},pressure:{current:0,tendency:0,description:""}},hourly:[],daily:[],nightly:[],units:{temperature:"",amount:"",speed:"",isMetric:!1,pressure:"",distance:""},metadata:{address:{house:"",street:"",neighbourhood:"",city:"Loading weather...",postalCode:"",county:"",state:"",country:"",countryISOCode:""},updateTimestamp:new Date(0),location:{latitude:0,longitude:0}}}}}t.default=n},function(e,t,i){"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,r){function s(e){try{d(a.next(e))}catch(e){r(e)}}function o(e){try{d(a.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}d((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(0);class r extends n.Base{observeData(e){super.observeData(e)}get userApplications(){return this.allApplications.filter(e=>!e.isSystemApplication)}get systemApplications(){return this.allApplications.filter(e=>e.isSystemApplication)}applicationForIdentifier(e){return this.allApplications.find(t=>t.identifier===e)}applicationIsPresent(e){return void 0!==this.applicationForIdentifier(e)}launchApplication(e){return a(this,void 0,void 0,(function*(){return new Promise((t,i)=>{this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.Applications,functionDefinition:"launchApplication",data:{identifier:e}},e=>{t(e)})})}))}deleteApplication(e){return a(this,void 0,void 0,(function*(){return new Promise((t,i)=>{this.connection.sendNativeMessage({namespace:n.DataProviderUpdateNamespace.Applications,functionDefinition:"deleteApplication",data:{identifier:e}},e=>{t(e)})})}))}}t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(0);class n extends a.Base{observeData(e){super.observeData(e)}defaultData(){return{battery:{percentage:0,state:0,source:"battery",timeUntilEmpty:-1,serial:"",health:0,capacity:{current:-1,maximum:-1,design:-1},cycles:0},memory:{used:0,free:0,available:0},processor:{load:0,count:0},disk:{}}}}t.default=n},function(e,t,i){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.DataUpdate="dataupdate",e.Callback="callback"}(a||(a={}));t.default=class{constructor(){this.pendingCallbacks=new Map,this._pendingCallbackIdentifier=0}get _connectionAvailable(){return void 0!==window.webkit&&void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.libwidgetinfo}onDataProviderUpdate(e){}onLoad(){}onInternalNativeMessage(e){const t=e.type;if(t===a.Callback){const t=e.callbackId,i=e.data;-1!==t&&void 0!==this.pendingCallbacks[t]&&null!==this.pendingCallbacks[t]&&(this.pendingCallbacks[t](i),this.pendingCallbacks.delete(t))}else t===a.DataUpdate&&this.onDataProviderUpdate(e.data)}sendNativeMessage(e,t){if(this._connectionAvailable){let i=-1;t&&(i=this._pendingCallbackIdentifier++,this.pendingCallbacks.set(i,t));const a={payload:e,callbackId:i};window.webkit.messageHandlers.libwidgetinfo.postMessage(a)}else console.error("Cannot send native message, no connection available")}}}]);
window.api = new XENDApi.default;